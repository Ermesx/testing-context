version: '1.2.{build}'
image: Visual Studio 2017
branches:
  only:
  - master
init:
- cmd: git config --global core.autocrlf true
  
dotnet_csproj:
  patch: true
  file: '**\*.csproj'
  version: '{version}'
  package_version: '{version}'
  assembly_version: '{version}'
  file_version: '{version}'
  informational_version: '{version}'

build_script:
- cmd: dotnet pack -c Release -o artifacts
  
artifacts:
- path: '**\*.nupkg'
  name: AutoTesting  

clone_depth: 1

test: off
deploy:
  provider: NuGet
  server:
  api_key:
    secure: c7PlM++2idTkMH8VqpTaPIqM8T0iSBciBVrOO8tBKUtW/y3rcyW8sGz+ml7Zrubf